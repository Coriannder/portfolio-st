@import '../../../../color.scss';
@import '../../../MediaQueries.scss';


/* Container / capsule for dots (moved from Carousel.scss) */
.dots {
	display: none;
	gap: 8px;
	justify-content: center;
	align-items: center;
	margin-top: 1rem;
	position: static;

	@include maxHeight720 {
		position: static !important;
		bottom: auto !important;
		left: auto !important;
		transform: none !important;
		z-index: auto !important;
		margin-top: 1rem;
		padding: 0;
		background: transparent;
		box-shadow: none;
	}

	@include mobile {
		display: flex;
	}

	@include tablet {
		position: absolute;
		bottom: 8px; /* moved closer to the card */
		left: 50%;
		transform: translateX(-50%);
		z-index: 100; /* ensure it's always above the card and its shadow */
		margin-top: 0;
		pointer-events: auto; /* ensure clickable */
		/* capsule for contrast and larger hit area */
		padding: 6px 12px;
		background: rgba(0, 0, 0, 0.22);
		border-radius: 999px;
		box-shadow: 0 6px 18px rgba(0, 0, 0, 0.18);
	}

	/* moving indicator (a circle that slides) */
	&-inner {
		position: relative;
		display: inline-flex;
		gap: 9px;
		align-items: center;
	}
}


/* ===== Dots appearance & active animation ===== */
.dot {
	width: 6px;
	height: 6px;
	border-radius: 50%;
	background: rgba($text-light, 0.18);
	border: none;
	padding: 7px; /* keep a generous hit area while reducing visual dot size */
	display: inline-block;
	cursor: pointer;
	transition: transform .18s ease, box-shadow .18s ease, background .18s ease;
	-webkit-tap-highlight-color: transparent; /* disable default tap highlight on mobile so we don't get the blue flash */

	&--active {
		//background: $pinkMiami;
		box-shadow: 0 6px 18px rgba($pinkMiami, 0.22);
		transform: scale(.98);
		opacity: 0.92;
	}

	&:focus-visible {
		outline: none;
		/* use the same pink tone as the active indicator so focus feels consistent */
		box-shadow: 0 0 0 4px rgba($pinkMiami, 0.16);
		border-radius: 50%;
	}

	&-indicator {
		position: absolute;
		/* position is set from JS (top/left) to match the exact button center */
		border-radius: 50%;
		background: $pinkMiami;
		z-index: 2; /* above dots so the pulse is visible */
		transition: left .36s cubic-bezier(.2,.9,.2,1), top .28s cubic-bezier(.2,.9,.2,1), width .24s ease, height .24s ease;
		pointer-events: none;
		box-shadow: 0 10px 28px rgba($pinkMiami, 0.22);

		@include maxHeight720 {
			position: relative;
			box-shadow: none;
			display: inline-block;
			margin-left: 6px;
		}
	}

}

@keyframes dotPulse {
	0% { transform: scale(1); }
	50% { transform: scale(1.18); }
	100% { transform: scale(1); }
}

/* Animate the active dot subtly, but respect reduced-motion */

@media (prefers-reduced-motion: no-preference) {
	.dot {
		&--active, &-indicator {
			animation: dotPulse 1.8s ease-in-out infinite;
		}
	}
}

@media (prefers-reduced-motion: reduce) {
	.dot {
		&--active, &-indicator {
			animation: none !important;
		}
	}
}

