@import '../../../../color.scss';
@import '../../../MediaQueries.scss';


/* Container / capsule for dots (moved from Carousel.scss) */
.dots {
	display: flex;
	gap: 8px;
	justify-content: center;
	align-items: center;
	margin: 1rem auto 0;
	position: relative;
	width: fit-content;


	@include mobile {
		/* display: flex;
		gap: 8px;
		justify-content: center;
		align-items: center;
		margin: 1rem auto 0;
		position: relative;
		width: fit-content; */
	}

	@include tablet {
		position: relative;
		/* ya no absolute */
		bottom: auto;
		left: auto;
		transform: none;
		z-index: 100;
		margin: 32px auto 0;
		/* centrado horizontal + separaci√≥n del viewport */
		width: fit-content;
		/* solo el ancho necesario */
		pointer-events: auto;
		justify-content: center;
		/* centrar horizontalmente */
		/* capsule for contrast and larger hit area */
		padding: 6px 12px;
		background: rgba(0, 0, 0, 0.22);
		border-radius: 999px;
		box-shadow: 0 6px 18px rgba(0, 0, 0, 0.18);
	}

	/* moving indicator (a circle that slides) */
	&-inner {
		position: relative;
		display: inline-flex;
		gap: 9px;
		align-items: center;
	}
}


/* ===== Dots appearance & active animation ===== */
.dot {
	width: 6px;
	height: 6px;
	border-radius: 50%;
	background: rgba($text-light, 0.18);
	border: none;
	padding: 7px;
	/* keep a generous hit area while reducing visual dot size */
	display: inline-block;
	cursor: pointer;
	transition: transform .18s ease, box-shadow .18s ease, background .18s ease;
	-webkit-tap-highlight-color: transparent;
	/* disable default tap highlight on mobile so we don't get the blue flash */

	&--active {
		//background: $pinkMiami;
		box-shadow: 0 6px 18px rgba($pinkMiami, 0.22);
		transform: scale(.98);
		opacity: 0.92;
	}

	&:focus-visible {
		outline: none;
		/* use the same pink tone as the active indicator so focus feels consistent */
		box-shadow: 0 0 0 4px rgba($pinkMiami, 0.16);
		border-radius: 50%;
	}

	&-indicator {
		position: absolute;
		/* position is set from JS (top/left) to match the exact button center */
		border-radius: 50%;
		background: $pinkMiami;
		z-index: 2;
		/* above dots so the pulse is visible */
		transition: left .36s cubic-bezier(.2, .9, .2, 1), top .28s cubic-bezier(.2, .9, .2, 1), width .24s ease, height .24s ease;
		pointer-events: none;
		box-shadow: 0 10px 28px rgba($pinkMiami, 0.22);

		@include smallScreensMaxHeight720 {
			//position: relative;
			box-shadow: none;
			display: inline-block;
		}
	}

}

@keyframes dotPulse {
	0% {
		transform: scale(1);
	}

	50% {
		transform: scale(1.18);
	}

	100% {
		transform: scale(1);
	}
}

/* Animate the active dot subtly, but respect reduced-motion */

@media (prefers-reduced-motion: no-preference) {
	.dot {

		&--active,
		&-indicator {
			animation: dotPulse 1.8s ease-in-out infinite;
		}
	}
}

@media (prefers-reduced-motion: reduce) {
	.dot {

		&--active,
		&-indicator {
			animation: none !important;
		}
	}
}