@import "../../../../color.scss";
@import "../../../MediaQueries.scss";


.card {

    height: 592px;
	display: flex;
    flex-direction: column;

	@include tablet {
		height: 278px;
	}


	max-width: 400px;
	background-color: rgba(39, 20, 79, 0.118);
	backdrop-filter: blur(5px);
	border: 1px solid $border-card;
	box-shadow: 0 4px 25px rgba(0, 0, 0, 0.45);
	border-radius: 16px;
	overflow: hidden;
  //margin: 20px;
  //margin : auto;

 // transform: scale(1.4);

 &--center {
	max-width: 300px;
  min-height: 562px;

  }





  &__media {

    aspect-ratio: 16/9;

    @include tablet {

      //min-height: 100%;
      //max-height: 100%;
      min-width: 100%;
      aspect-ratio: 16/4.5;
      background-size: cover;
      background-position: center;
    }

  }

  &__body {

	  padding: 1rem;
    //height: inherit;
    display: flex;
    flex-direction: column;
    flex-grow: 1;

    //background-color: blueviolet;

    @include tablet {
      padding: 0.5rem;
    }
  }

  &__meta {
    display: flex;
    justify-content: space-between;
    align-items: center;


  }

	&__type {
		text-transform: uppercase;

		letter-spacing: 0.5px;
		color: rgba($text-light, 0.65);

		@include tablet {
			font-size: 0.55rem;
		}
	}


  &__visibility {
    
    text-transform: capitalize;
    padding: 2px 8px;
    border-radius: 6px;
    white-space: nowrap;

    &.public  { background: $primary-light-bg; color: $primary; }
    &.private { background: rgba(255,255,255,0.08); color: rgba($text-light, 0.75); }

	@include tablet {
		font-size: 0.55rem;

	}
  }

	&__title {
	
		font-weight: 500;
		line-height: 1.2;

		@include tablet {
			margin: 0 0 .35rem 0;
			font-size: clamp(0.75rem, .5rem + .4vw, 1.2rem);

		}

		//margin: 1rem 0;
	}

	&__desc {
		color: rgba($text-light, 0.86);

		line-height: 1.45;
		margin: 0 0 1rem 0;

		@include tablet {
			font-size: clamp(.6rem, .1rem + .2vw, 1rem);
			margin-bottom: 0.5rem;
		}


  }

    /* ===== Stack (tags) ===== */
  &__tags {
    display: flex;
    flex-wrap: wrap;
    gap: .4rem;
    margin: .5rem 0 .8rem 0;

	@include tablet {
		margin: auto 0;
	}

    //align-self: ;
  }

  &__tag {
  line-height: 1;
  padding: 5px 10px;
  border-radius: 999px;
  color: rgba($text-light, 0.7);
  background: rgba(255, 255, 255, 0.06);
  border: 1px solid rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(2px);

  @include tablet {
  font-size: .5rem;
  }
}

  &__actions {
    display: flex;
    gap: 10px;
	margin-top: 20px;
      flex-grow: 1;
    align-items: flex-end;

	@include tablet {
		margin-top: 10px;
	}
  }
}

/* ===== Hover for featured card (desktop only) ===== */
@media (hover: hover) and (pointer: fine) {
  .card--featured {
    transition: transform .15s cubic-bezier(.2,.9,.2,1), box-shadow .26s ease;
    will-change: transform, box-shadow;
  }

  .card--featured:hover,
  .card--featured:focus-visible {
    /* smaller scale to reduce layout-shift and a subtle inset glow in brand tone */
    transform: translateY(-3px) translateZ(0) scale(1.005);
    box-shadow: /* 0 20px 6px rgba(0, 0, 0, 0.30), */ inset 0 8px 36px rgba($primary, 0.16);
  }
}

@media (prefers-reduced-motion: reduce) {
  .card--featured {
    transition: none !important;
  }
}

/* Fallback: some touchscreen laptops report no primary hover but DO have a mouse -
   use any-hover to detect if any input can hover (covers hybrid devices). */
@media (any-hover: hover) {
  .card--featured {
    transition: transform .26s cubic-bezier(.2,.9,.2,1), box-shadow .26s ease;
    will-change: transform, box-shadow;
  }

  .card--featured:hover,
  .card--featured:focus-visible {
    /* smaller scale + inset tonal glow */
    transform: translateY(-4px) translateZ(0) scale(1.015);
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.30), inset 0 8px 36px rgba($primary, 0.16);
  }
}

/* Fallback: use .has-mouse (set by runtime JS) for hybrid devices that don't
   report hover/any-hover correctly. This lets us enable hover when a physical
   mouse is actually used. */
.has-mouse .card--featured {
  transition: transform .26s cubic-bezier(.2,.9,.2,1), box-shadow .26s ease;
  will-change: transform, box-shadow;
}

.has-mouse .card--featured:hover,
.has-mouse .card--featured:focus-visible {
  transform: translateY(-4px) translateZ(0) scale(1.015);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.30), inset 0 8px 36px rgba($primary, 0.16);
}